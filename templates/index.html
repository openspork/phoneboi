<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>PhoneBoi</title>
		<script src="https://code.jquery.com/jquery-3.4.1.js"
		integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
		crossorigin="anonymous"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"
		integrity="sha256-yr4fRk/GU1ehYJPAs8P4JlTgu0Hdsp4ZKrx8bDEDC3I="
		crossorigin="anonymous"></script>
		<script src="static/socketio.js"></script>
	</head>
	<body>
		<div>
			<table border="3"  >
				<thead>
					<tr>
						<th>Company</th>
						<th>Agreement</th>
						<th>Additions:</th>
					</tr>
				</thead>
				<tbody>
					{% for agreement in agreements %}
						<tr>
							<td> {{ agreement["company_name"] }} </td>
							<td> {{ agreement["agreement_name"] }} </td>
							<td>
								<table border="1">
									<thead>
										<th>Name</th>
										<th>Quantity</th>
										<th>Omitted</th>
										<th>Configurations</th>
									</thead>
									{% for name, values in agreement["addition_types"].items() %}
										<tbody>
											<tr>
												<td> {{ name }} </td>
												<td> {{ values["quantity_sum"] }} </td>
												<td> {{ values["less_included_sum"] }} </td>
												<td> {{ values["configuration_sum"] }} </td>
												<td><button class="update" id="{{ uuid }}">Update Product Count</button></td>
											</tr>
										</tbody>
									{% endfor %}
								</table>
							</td>
							
						</tr>
					{% endfor %}
				</thead>
			</table>
		</div>
		<div>
			<table>
				<thead>
					<tr>
						<th>Entry</th>
						<th>Timestamp</th>
						<th>Status</th>
					</tr>
				</thead>
				<tbody id = "log">
					
				</tbody>
			</table>
		</div>
		<div>
			<h2>Server status:</h2>
			<text id="heartbeat"></text>
		</div>
	</body>
</html>